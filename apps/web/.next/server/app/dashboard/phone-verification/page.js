(()=>{var e={};e.id=678,e.ids=[678],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4762:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(62146).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/skeswa/repos/skeswa/remembot/apps/web/src/app/dashboard/phone-verification/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/skeswa/repos/skeswa/remembot/apps/web/src/app/dashboard/phone-verification/page.tsx","default")},7444:(e,r,t)=>{"use strict";t.d(r,{Toaster:()=>n});var s=t(44488),o=t(78850),a=t(62810);let n=({...e})=>{let{theme:r="system"}=(0,o.D)();return(0,s.jsx)(a.l$,{theme:r,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})}},9522:(e,r,t)=>{"use strict";t.d(r,{Toaster:()=>s});let s=(0,t(62146).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/skeswa/repos/skeswa/remembot/apps/web/src/components/ui/sonner.tsx","Toaster")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11984:()=>{},13688:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(89106),o=t(85146),a=t(97273),n=t(85080);async function i({children:e}){return(await (0,o.UL)()).get("notion_access_token")||(0,a.redirect)("/login"),(0,s.jsx)("div",{className:"flex min-h-screen flex-col",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row flex-1",children:[(0,s.jsx)("aside",{className:"w-full md:w-64 bg-gray-100 dark:bg-gray-800",children:(0,s.jsx)(n.DashboardNav,{})}),(0,s.jsx)("main",{className:"flex-1 p-6 md:p-10",children:e})]})})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26553:(e,r,t)=>{"use strict";t.d(r,{J:()=>l});var s=t(44488),o=t(86553),a=t(80142),n=t(24309),i=t(88720);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)(a.b,{ref:t,className:(0,i.cn)(d(),e),...r}));l.displayName=a.b.displayName},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},36385:(e,r,t)=>{"use strict";t.d(r,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>i,wL:()=>p});var s=t(44488),o=t(86553),a=t(88720);let n=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...r}));n.displayName="Card";let i=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let d=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let l=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let c=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let p=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r}));p.displayName="CardFooter"},42860:(e,r,t)=>{Promise.resolve().then(t.bind(t,48642))},44148:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var s=t(44488),o=t(86553),a=t(14310),n=t(62810),i=t(47623),d=t(36385),l=t(92447),c=t(26553);function p(){let[e,r]=(0,o.useState)(""),[t,p]=(0,o.useState)(""),[m,h]=(0,o.useState)(!1),[u,f]=(0,o.useState)(!1),b=(0,a.useRouter)(),v=async r=>{r.preventDefault(),f(!0);try{let r=await fetch("/api/twilio/send-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:e})});if(!r.ok){let e=await r.text();throw Error(e)}h(!0),(0,n.oR)("Verification code sent",{description:"Please check your phone for the verification code"})}catch(e){n.oR.error(e instanceof Error?e.message:"Failed to send verification code")}finally{f(!1)}},x=async r=>{r.preventDefault(),f(!0);try{let r=await fetch("/api/twilio/verify-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:e,code:t})});if(!r.ok){let e=await r.text();throw Error(e)}n.oR.success("Phone verified",{description:"Your phone number has been verified successfully"}),b.push("/dashboard")}catch(e){n.oR.error(e instanceof Error?e.message:"Failed to verify code")}finally{f(!1)}};return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 px-4",children:(0,s.jsxs)(d.Zp,{className:"w-full max-w-md",children:[(0,s.jsxs)(d.aR,{children:[(0,s.jsx)(d.ZB,{children:"Verify Your Phone Number"}),(0,s.jsx)(d.BT,{children:"We'll send a verification code over SMS to confirm your phone number. Make sure you have your phone handy."})]}),(0,s.jsx)(d.Wu,{children:m?(0,s.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{htmlFor:"code",children:"Verification Code"}),(0,s.jsx)(l.p,{id:"code",placeholder:"123456",value:t,onChange:e=>p(e.target.value),required:!0,inputMode:"numeric",pattern:"\\d{6}"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enter the 6-digit code sent to your phone."})]}),(0,s.jsx)(i.$,{type:"submit",className:"w-full",disabled:u,children:u?"Verifying...":"Verify Code"})]}):(0,s.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{htmlFor:"phone",children:"Phone Number"}),(0,s.jsx)(l.p,{id:"phone",placeholder:"+1 (555) 123-4567",value:e,onChange:e=>r(e.target.value),required:!0,type:"tel"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enter your phone number in international format (e.g., +15551234567)."})]}),(0,s.jsx)(i.$,{type:"submit",className:"w-full",disabled:u,children:u?"Sending...":"Send Verification"})]})}),(0,s.jsx)(d.wL,{className:"flex justify-between",children:m&&(0,s.jsx)(i.$,{variant:"ghost",onClick:()=>h(!1),disabled:u,children:"Back"})})]})})}},47623:(e,r,t)=>{"use strict";t.d(r,{$:()=>l});var s=t(44488),o=t(86553),a=t(85452),n=t(24309),i=t(88720);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=o.forwardRef(({className:e,variant:r,size:t,asChild:o=!1,...n},l)=>{let c=o?a.DX:"button";return(0,s.jsx)(c,{className:(0,i.cn)(d({variant:r,size:t,className:e})),ref:l,...n})});l.displayName="Button"},48642:(e,r,t)=>{"use strict";t.d(r,{DashboardNav:()=>h});var s=t(44488),o=t(85427),a=t.n(o),n=t(14310),i=t(88720),d=t(47623),l=t(1322),c=t(6217),p=t(52433),m=t(21609);function h(){let e=(0,n.usePathname)(),r=async()=>{await fetch("/api/auth/logout",{method:"POST"}),window.location.href="/"},t=[{title:"Dashboard",href:"/dashboard",icon:l.A},{title:"Messages",href:"/dashboard/messages",icon:c.A},{title:"Settings",href:"/dashboard/settings",icon:p.A}];return(0,s.jsxs)("div",{className:"flex flex-col h-full p-4",children:[(0,s.jsxs)("div",{className:"py-2",children:[(0,s.jsx)("h2",{className:"mb-2 px-4 text-lg font-semibold tracking-tight",children:"Remembot"}),(0,s.jsx)("div",{className:"space-y-1",children:t.map(r=>(0,s.jsxs)(a(),{href:r.href,className:(0,i.cn)("flex items-center rounded-md px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground",e===r.href?"bg-accent text-accent-foreground":"transparent"),children:[(0,s.jsx)(r.icon,{className:"mr-2 h-4 w-4"}),r.title]},r.href))})]}),(0,s.jsx)("div",{className:"mt-auto",children:(0,s.jsxs)(d.$,{variant:"ghost",className:"w-full justify-start",onClick:r,children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Log out"]})})]})}},51619:(e,r,t)=>{Promise.resolve().then(t.bind(t,44148))},53460:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>l});var s=t(85506),o=t(67893),a=t(2989),n=t.n(a),i=t(62050),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(r,d);let l={children:["",{children:["dashboard",{children:["phone-verification",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4762)),"/home/skeswa/repos/skeswa/remembot/apps/web/src/app/dashboard/phone-verification/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,13688)),"/home/skeswa/repos/skeswa/remembot/apps/web/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57727))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,65519)),"/home/skeswa/repos/skeswa/remembot/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,28723,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,4238,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,12471,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57727))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/skeswa/repos/skeswa/remembot/apps/web/src/app/dashboard/phone-verification/page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/dashboard/phone-verification/page",pathname:"/dashboard/phone-verification",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},56012:(e,r,t)=>{Promise.resolve().then(t.bind(t,85080))},57727:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(60795);let o=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},58087:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,61861,23)),Promise.resolve().then(t.t.bind(t,26245,23)),Promise.resolve().then(t.t.bind(t,2989,23)),Promise.resolve().then(t.t.bind(t,9964,23)),Promise.resolve().then(t.t.bind(t,95892,23)),Promise.resolve().then(t.t.bind(t,76744,23)),Promise.resolve().then(t.t.bind(t,54678,23)),Promise.resolve().then(t.t.bind(t,72832,23))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65519:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c,metadata:()=>l});var s=t(89106),o=t(45199),a=t.n(o),n=t(26003),i=t.n(n),d=t(9522);t(11984);let l={title:"remembot",description:"Create Notion Todos via SMS/WhatsApp"};function c({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsxs)("body",{className:`${a().variable} ${i().variable} antialiased`,children:[e,(0,s.jsx)(d.Toaster,{})]})})}},67291:(e,r,t)=>{Promise.resolve().then(t.bind(t,9522))},75595:(e,r,t)=>{Promise.resolve().then(t.bind(t,4762))},77907:(e,r,t)=>{Promise.resolve().then(t.bind(t,7444))},79551:e=>{"use strict";e.exports=require("url")},85080:(e,r,t)=>{"use strict";t.d(r,{DashboardNav:()=>s});let s=(0,t(62146).registerClientReference)(function(){throw Error("Attempted to call DashboardNav() from the server but DashboardNav is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/skeswa/repos/skeswa/remembot/apps/web/src/components/dashboard-nav.tsx","DashboardNav")},88351:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,70511,23)),Promise.resolve().then(t.t.bind(t,37107,23)),Promise.resolve().then(t.t.bind(t,49959,23)),Promise.resolve().then(t.t.bind(t,40086,23)),Promise.resolve().then(t.t.bind(t,44626,23)),Promise.resolve().then(t.t.bind(t,98294,23)),Promise.resolve().then(t.t.bind(t,97476,23)),Promise.resolve().then(t.t.bind(t,60886,23))},88720:(e,r,t)=>{"use strict";t.d(r,{cn:()=>a});var s=t(98055),o=t(19191);function a(...e){return(0,o.QP)((0,s.$)(e))}},92447:(e,r,t)=>{"use strict";t.d(r,{p:()=>n});var s=t(44488),o=t(86553),a=t(88720);let n=o.forwardRef(({className:e,type:r,...t},o)=>(0,s.jsx)("input",{type:r,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:o,...t}));n.displayName="Input"}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[378,146,40,197,427,269,115],()=>t(53460));module.exports=s})();